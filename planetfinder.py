from astropy.coordinates import get_body_barycentric, SkyCoord, Galactocentric, ICRS
from astropy.time import Time
from astropy import units as u


user_planet = None


planets = ["mercury", "venus", "earth", "mars", "jupiter", "saturn", "uranus", "neptune", "pluto"]

def get_planet_galactic_coords(planet_name):
    
    now = Time.now()

    
    planet = get_body_barycentric(planet_name, now)

    
    sc = SkyCoord(planet)

    
    galactic = sc.galactic

    
    galcen = sc.transform_to(Galactocentric())
    distance_kpc = galcen.cartesian.norm().to(u.kpc).value

    return galactic.l.degree, galactic.b.degree, distance_kpc


def set_planet_from_name(planet_name):
    global user_planet

    if planet_name.lower() not in planets:
        print(f"‚ùå Invalid planet name. Available options: {', '.join(planets)}")
        return

    user_planet = planet_name.lower()
    print(f"üìç Planet set to: {user_planet.capitalize()}")



def print_ascii_art():
    art = """
    ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ  ‚ñÑ‚ñà          ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ      ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà            ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñÑ‚ñà  ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ     ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
  ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà         ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ‚ñà‚ñà‚ñÑ   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñÄ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ       ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ‚ñà‚ñà‚ñÑ ‚ñà‚ñà‚ñà   ‚ñÄ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà
  ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà         ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñÄ     ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñà‚ñà       ‚ñà‚ñà‚ñà    ‚ñà‚ñÄ  ‚ñà‚ñà‚ñà‚ñå ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñÄ    ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà
  ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà         ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà  ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ         ‚ñà‚ñà‚ñà   ‚ñÄ      ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ     ‚ñà‚ñà‚ñà‚ñå ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà  ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ      ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñà‚ñÄ
‚ñÄ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÄ  ‚ñà‚ñà‚ñà       ‚ñÄ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñÄ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ         ‚ñà‚ñà‚ñà         ‚ñÄ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ     ‚ñà‚ñà‚ñà‚ñå ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñÄ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ     ‚ñÄ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ
  ‚ñà‚ñà‚ñà        ‚ñà‚ñà‚ñà         ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñÑ      ‚ñà‚ñà‚ñà           ‚ñà‚ñà‚ñà        ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñÑ  ‚ñÄ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
  ‚ñà‚ñà‚ñà        ‚ñà‚ñà‚ñà‚ñå    ‚ñÑ   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà           ‚ñà‚ñà‚ñà        ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà   ‚ñÑ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà
 ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñÄ      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ‚ñÑ‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñÄ   ‚ñÄ‚ñà   ‚ñà‚ñÄ    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñÑ‚ñà‚ñà‚ñà‚ñà‚ñÄ         ‚ñà‚ñà‚ñà        ‚ñà‚ñÄ    ‚ñÄ‚ñà   ‚ñà‚ñÄ  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÄ    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà
             ‚ñÄ                                                                                                                   ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà
    """
    print(art)

print_ascii_art()

def print_small_ascii_art():
    art = """
 ‚ñà‚ñà‚ñà‚ñÑ ‚ñÑ‚ñà‚ñà‚ñà‚ñì ‚ñÑ‚ñÑ‚ñÑ      ‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ ‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà     ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñì‚ñà‚ñà   ‚ñà‚ñà‚ñì    ‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà    ‚ñÑ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñì‚ñà‚ñà‚ñà  
‚ñì‚ñà‚ñà‚ñí‚ñÄ‚ñà‚ñÄ ‚ñà‚ñà‚ñí‚ñí‚ñà‚ñà‚ñà‚ñà‚ñÑ    ‚ñí‚ñà‚ñà‚ñÄ ‚ñà‚ñà‚ñå‚ñì‚ñà   ‚ñÄ    ‚ñì‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÑ‚ñí‚ñà‚ñà  ‚ñà‚ñà‚ñí   ‚ñì‚ñà‚ñà‚ñë  ‚ñà‚ñà‚ñí ‚ñà‚ñà‚ñí ‚ñÄ‚ñà‚ñí‚ñì‚ñà‚ñà‚ñë  ‚ñà‚ñà‚ñí
‚ñì‚ñà‚ñà    ‚ñì‚ñà‚ñà‚ñë‚ñí‚ñà‚ñà  ‚ñÄ‚ñà‚ñÑ  ‚ñë‚ñà‚ñà   ‚ñà‚ñå‚ñí‚ñà‚ñà‚ñà      ‚ñí‚ñà‚ñà‚ñí ‚ñÑ‚ñà‚ñà‚ñí‚ñà‚ñà ‚ñà‚ñà‚ñë   ‚ñì‚ñà‚ñà‚ñë ‚ñà‚ñà‚ñì‚ñí‚ñí‚ñà‚ñà‚ñë‚ñÑ‚ñÑ‚ñÑ‚ñë‚ñì‚ñà‚ñà‚ñë ‚ñà‚ñà‚ñì‚ñí
‚ñí‚ñà‚ñà    ‚ñí‚ñà‚ñà ‚ñë‚ñà‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñà‚ñà ‚ñë‚ñì‚ñà‚ñÑ   ‚ñå‚ñí‚ñì‚ñà  ‚ñÑ    ‚ñí‚ñà‚ñà‚ñë‚ñà‚ñÄ  ‚ñë ‚ñê‚ñà‚ñà‚ñì‚ñë   ‚ñí‚ñà‚ñà‚ñÑ‚ñà‚ñì‚ñí ‚ñí‚ñë‚ñì‚ñà  ‚ñà‚ñà‚ñì‚ñí‚ñà‚ñà‚ñÑ‚ñà‚ñì‚ñí ‚ñí
‚ñí‚ñà‚ñà‚ñí   ‚ñë‚ñà‚ñà‚ñí ‚ñì‚ñà   ‚ñì‚ñà‚ñà‚ñí‚ñë‚ñí‚ñà‚ñà‚ñà‚ñà‚ñì ‚ñë‚ñí‚ñà‚ñà‚ñà‚ñà‚ñí   ‚ñë‚ñì‚ñà  ‚ñÄ‚ñà‚ñì‚ñë ‚ñà‚ñà‚ñí‚ñì‚ñë   ‚ñí‚ñà‚ñà‚ñí ‚ñë  ‚ñë‚ñë‚ñí‚ñì‚ñà‚ñà‚ñà‚ñÄ‚ñí‚ñí‚ñà‚ñà‚ñí ‚ñë  ‚ñë
‚ñë ‚ñí‚ñë   ‚ñë  ‚ñë ‚ñí‚ñí   ‚ñì‚ñí‚ñà‚ñë ‚ñí‚ñí‚ñì  ‚ñí ‚ñë‚ñë ‚ñí‚ñë ‚ñë   ‚ñë‚ñí‚ñì‚ñà‚ñà‚ñà‚ñÄ‚ñí ‚ñà‚ñà‚ñí‚ñí‚ñí    ‚ñí‚ñì‚ñí‚ñë ‚ñë  ‚ñë ‚ñë‚ñí   ‚ñí ‚ñí‚ñì‚ñí‚ñë ‚ñë  ‚ñë
‚ñë  ‚ñë      ‚ñë  ‚ñí   ‚ñí‚ñí ‚ñë ‚ñë ‚ñí  ‚ñí  ‚ñë ‚ñë  ‚ñë   ‚ñí‚ñë‚ñí   ‚ñë‚ñì‚ñà‚ñà ‚ñë‚ñí‚ñë    ‚ñë‚ñí ‚ñë       ‚ñë   ‚ñë ‚ñë‚ñí ‚ñë     
‚ñë      ‚ñë     ‚ñë   ‚ñí    ‚ñë ‚ñë  ‚ñë    ‚ñë       ‚ñë    ‚ñë‚ñí ‚ñí ‚ñë‚ñë     ‚ñë‚ñë       ‚ñë ‚ñë   ‚ñë ‚ñë‚ñë       
       ‚ñë         ‚ñë  ‚ñë   ‚ñë       ‚ñë  ‚ñë    ‚ñë     ‚ñë ‚ñë                       ‚ñë          
                      ‚ñë                      ‚ñë‚ñë ‚ñë                                    
   """
    print(art)
    
print_small_ascii_art()



def main():

    print("Type '$co' to get current galactic coordinates of a planet.")
    print("Type '$loc <planet>' to change your planet (e.g., '$loc Mars').")
    print("Type '$exit' to quit.\n")

    while True:
        command = input(">>> ").strip()

        if command.startswith("$co"):
            if user_planet is None:
                print("‚ùå No planet selected. Use '$loc <planet>' to set a planet first.\n")
                continue
            try:
                lon, lat, dist = get_planet_galactic_coords(user_planet)
                print(f"\nüìç Galactic Coordinates of {user_planet.capitalize()}:")
                print(f"  Longitude (‚Ñì): {lon:.2f}¬∞")
                print(f"  Latitude (b): {lat:.2f}¬∞")
                print(f"  Distance from Galactic Center: {dist:.2f} kpc (~{dist*3.262:.2f} kly)\n")
            except Exception as e:
                print(f"‚ùå Error: {e}\n")
        elif command.startswith("$loc "):
            planet = command[5:].strip()
            set_planet_from_name(planet)
        elif command == "$exit":
            print("Goodbye! Stay stellar. üåå")
            break
        else:
            print("Unknown command. Try '$co', '$loc <planet>', or '$exit'.\n")


if __name__ == "__main__":
    main()
